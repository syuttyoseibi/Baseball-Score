<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, maximum-scale=3.0">
    <title>少年野球スコア記録</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <header>
            <h1><span class="header-icon">⚾</span> 少年野球スコア記録</h1>
            <button id="helpButton" class="help-button">使い方</button>
        </header>

        <section class="collapsible">
            <h2 class="section-toggle">チーム設定</h2>
            <div class="section-content">
                <div class="team-config">
                    <div class="form-group"><label for="awayTeamName">先攻チーム:</label><input type="text" id="awayTeamName" placeholder="チーム名"></div>
                    <div class="form-group"><label for="homeTeamName">後攻チーム:</label><input type="text" id="homeTeamName" placeholder="チーム名"></div>
                    <div class="form-group"><label for="gameDate">試合日:</label><input type="date" id="gameDate"></div>
                    <div class="form-group"><label for="gameLocation">試合会場:</label><input type="text" id="gameLocation" placeholder="試合会場"></div>
                </div>
            </div>
        </section>

        <section class="collapsible">
            <h2 class="section-toggle">試合結果</h2>
            <div class="section-content">
                <div class="form-group"><label for="gameStatus">試合状況:</label><select id="gameStatus"><option value="ongoing">進行中</option><option value="finished">終了</option></select></div>
                <div class="form-group"><label for="gameResult">試合結果:</label><select id="gameResult"><option value="">選択してください</option><option value="home-win">後攻チーム勝利</option><option value="away-win">先攻チーム勝利</option><option value="draw">引き分け</option></select></div>
                <button id="downloadPdfButton">📄 PDF形式ダウンロード</button>
                <button id="resetGameButton">試合をリセット</button>
            </div>
        </section>

        <section class="collapsible">
            <h2 class="section-toggle">選手登録</h2>
            <div class="section-content">
                <div class="form-group"><label for="playerTeam">チーム:</label><select id="playerTeam"><option value="away">先攻チーム</option><option value="home">後攻チーム</option></select></div>
                <div class="form-group"><label for="playerName">選手名:</label><input type="text" id="playerName" placeholder="例: タロウ"></div>
                <div class="form-group"><label for="playerNumber">背番号:</label><input type="number" id="playerNumber" min="0" max="99" placeholder="0-99"></div>
                <div id="addPlayerErrorDisplay" class="message-container"></div>
                <div class="form-group"><label for="playerPosition">守備位置:</label><select id="playerPosition"><option value="">選択</option><option value="P">P</option><option value="C">C</option><option value="1B">1B</option><option value="2B">2B</option><option value="3B">3B</option><option value="SS">SS</option><option value="LF">LF</option><option value="CF">CF</option><option value="RF">RF</option><option value="DH">DH</option></select></div>
                <div class="button-group"><button id="addPlayerButton">選手追加</button><button id="openPlayerMasterModalButton">選手マスタから追加</button></div>
                <div class="button-group"><button id="addSampleAwayPlayersButton">先攻にサンプル登録</button><button id="addSampleHomePlayersButton">後攻にサンプル登録</button></div>
                <div class="players-list">
                    <div class="team-players"><h3 id="awayTeamPlayersTitle">先攻チーム選手</h3><div id="awayPlayersList"></div></div>
                    <div class="team-players"><h3 id="homeTeamPlayersTitle">後攻チーム選手</h3><div id="homePlayersList"></div></div>
                </div>
            </div>
        </section>

        <section class="collapsible">
            <h2 class="section-toggle">スコアボード</h2>
            <div class="section-content">
                <div class="score-table"><table id="scoreTable">...</table></div>
                <div class="game-status">
                    <div class="inning-info">...</div>
                    <div class="runners">...</div>
                    <div class="outs">...</div>
                </div>
            </div>
        </section>

        <section class="collapsible">
            <h2 class="section-toggle">打席結果記録</h2>
            <div class="section-content">...</div>
        </section>

        <section class="collapsible">
            <h2 class="section-toggle">選手別打撃成績</h2>
            <div class="section-content"><div id="statsTable"></div></div>
        </section>

        <section class="collapsible">
            <h2 class="section-toggle">打席記録履歴</h2>
            <div class="section-content"><div id="atBatHistory"></div><button id="clearHistoryButton">履歴クリア</button></div>
        </section>

        <section class="collapsible">
            <h2 class="section-toggle">選手交代履歴</h2>
            <div class="section-content"><div id="substitutionHistory"></div></div>
        </section>
    </div>

    <!-- Modals -->
    <div id="substitutionModal" class="modal">...</div>
    <div id="editPlayerModal" class="modal">...</div>
    <div id="editAtBatModal" class="modal">...</div>
    <div id="playerMasterModal" class="modal">...</div>
    <div id="editPlayerMasterModal" class="modal">...</div>
    <div id="helpModal" class="modal">...</div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>
    <script src="script.js"></script>
</body>
</html>
